-bb80-fd0d7444c740] will be managed by Spring
2025-08-06T12:36:59.868+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] c.p.b.d.B.getBomComponentById : ==> Preparing: SELECT _ FROM bom_components WHERE bom_component_id = ?
2025-08-06T12:36:59.868+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] c.p.b.d.B.getBomComponentById : ==> Parameters: 1(Long)
2025-08-06T12:36:59.870+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] c.p.b.d.B.getBomComponentById : <== Total: 1
2025-08-06T12:36:59.872+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] org.mybatis.spring.SqlSessionUtils : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd56205]
2025-08-06T12:36:59.872+08:00 INFO 11072 --- [demo] [nio-8082-exec-8] c.p.bom.service.BomComponentServiceImpl : Found existing component to update: BomComponent(bomComponentId=null, parentMaterialId=null, componentMaterialId=null, quantity=5.0000, positionNumber=null, notes=, effectiveStartDate=null, effectiveEndDate=null, createdAt=null, updatedAt=null)
2025-08-06T12:36:59.872+08:00 INFO 11072 --- [demo] [nio-8082-exec-8] c.p.bom.service.BomComponentServiceImpl : Component state before calling DAO update: BomComponent(bomComponentId=null, parentMaterialId=null, componentMaterialId=5, quantity=5, positionNumber=null, notes=, effectiveStartDate=null, effectiveEndDate=null, createdAt=null, updatedAt=null)
2025-08-06T12:36:59.875+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] org.mybatis.spring.SqlSessionUtils : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd56205] from current transaction  
2025-08-06T12:36:59.875+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] c.p.b.d.B.updateBomComponent : ==> Preparing: UPDATE bom_components SET component_material_id = ?, quantity = ?, notes = ?, updated_at = GETDATE() WHERE bom_component_id = ?
2025-08-06T12:36:59.877+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] c.p.b.d.B.updateBomComponent : ==> Parameters: 5(Long), 5(BigDecimal), (String), null
2025-08-06T12:36:59.881+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] c.p.b.d.B.updateBomComponent : <== Updates: 0
2025-08-06T12:36:59.881+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] org.mybatis.spring.SqlSessionUtils : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd56205]
2025-08-06T12:36:59.882+08:00 INFO 11072 --- [demo] [nio-8082-exec-8] c.p.bom.service.BomComponentServiceImpl : Successfully called DAO to update component with ID: null
2025-08-06T12:36:59.882+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] org.mybatis.spring.SqlSessionUtils : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd56205]
2025-08-06T12:36:59.883+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] org.mybatis.spring.SqlSessionUtils : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd56205]
2025-08-06T12:36:59.884+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] org.mybatis.spring.SqlSessionUtils : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd56205]  
2025-08-06T12:36:59.886+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, _/_] and supported [application/json, application/_+json, application/yaml]
2025-08-06T12:36:59.886+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2025-08-06T12:36:59.887+08:00 DEBUG 11072 --- [demo] [nio-8082-exec-8] o.s.web.servlet.DispatcherServlet : Completed 200 OK
2025-08-06T12:37:01.462+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] org.hibernate.SQL : select eu1_0.employee_user_id,eu1_0.birth_date,eu1_0.created_at,eu1_0.email,eu1_0.employee_department_id,eu1_0.employee_number,eu1_0.employee_position_id,eu1_0.employee_type,eu1_0.first_name,eu1_0.hire_date,eu1_0.is_active,eu1_0.last_login,eu1_0.last_name,eu1_0.manager_employee_user_id,eu1_0.password_hash,eu1_0.phone,eu1_0.photo_path,eu1_0.termination_date,eu1_0.updated_at,eu1_0.username from employee_users eu1_0 where eu1_0.username=?
Hibernate: select eu1_0.employee_user_id,eu1_0.birth_date,eu1_0.created_at,eu1_0.email,eu1_0.employee_department_id,eu1_0.employee_number,eu1_0.employee_position_id,eu1_0.employee_type,eu1_0.first_name,eu1_0.hire_date,eu1_0.is_active,eu1_0.last_login,eu1_0.last_name,eu1_0.manager_employee_user_id,eu1_0.password_hash,eu1_0.phone,eu1_0.photo_path,eu1_0.termination_date,eu1_0.updated_at,eu1_0.username from employee_users eu1_0 where eu1_0.username=?  
2025-08-06T12:37:01.466+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] org.hibernate.SQL : select ur1_0.id,ur1_0.assigned_at,ur1_0.assigned_by,ur1_0.employee_id,ur1_0.role_id from UserRoles ur1_0 where ur1_0.employee_id=?
Hibernate: select ur1_0.id,ur1_0.assigned_at,ur1_0.assigned_by,ur1_0.employee_id,ur1_0.role_id from UserRoles ur1_0 where ur1_0.employee_id=?
2025-08-06T12:37:01.468+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] org.hibernate.SQL : select rp1_0.id,rp1_0.granted_at,rp1_0.granted_by,rp1_0.permission_code,rp1_0.role_id from RolePermissions rp1_0 where rp1_0.role_id=?
Hibernate: select rp1_0.id,rp1_0.granted_at,rp1_0.granted_by,rp1_0.permission_code,rp1_0.role_id from RolePermissions rp1_0 where rp1_0.role_id=?
2025-08-06T12:37:01.473+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] o.s.web.servlet.DispatcherServlet : GET "/api/boms/material/46?\_t=1754455021454", parameters={masked}
2025-08-06T12:37:01.474+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.project.bom.controller.BomComponentController#getBomComponentsByMaterial(Long)
2025-08-06T12:37:01.474+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] org.mybatis.spring.SqlSessionUtils : Creating a new SqlSession
2025-08-06T12:37:01.475+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] org.mybatis.spring.SqlSessionUtils : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5b5810] was not registered for synchronization because synchronization is not active
2025-08-06T12:37:01.475+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] o.s.jdbc.datasource.DataSourceUtils : Fetching JDBC Connection from DataSource
2025-08-06T12:37:01.475+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] o.m.s.t.SpringManagedTransaction : JDBC Connection [HikariProxyConnection@1496199281 wrapping ConnectionID:1 ClientConnectionId: 5266032b-3036-4b67-bb80-fd0d7444c740] will not be managed by Spring
2025-08-06T12:37:01.476+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] b.d.B.getBomComponentsByParentMaterialId : ==> Preparing: SELECT bom_component_id AS bomComponentId, parent_material_id AS parentMaterialId, component_material_id AS componentMaterialId, quantity, notes, effective_start_date AS effectiveStartDate, effective_end_date
AS effectiveEndDate, created_at AS createdAt, updated_at AS updatedAt FROM bom_components WHERE parent_material_id = ?
2025-08-06T12:37:01.476+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] b.d.B.getBomComponentsByParentMaterialId : ==> Parameters: 46(Long)
2025-08-06T12:37:01.477+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] b.d.B.getBomComponentsByParentMaterialId : <== Total: 3
2025-08-06T12:37:01.478+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] org.mybatis.spring.SqlSessionUtils : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5b5810]
BomComponentServiceImpl: Raw BOM components from DAO: [BomComponent(bomComponentId=1, parentMaterialId=46, componentMaterialId=2, quantity=5.0000, positionNumber=null, notes=, effectiveStartDate=2025-07-31T14:29:54.841595500,
effectiveEndDate=null, createdAt=2025-07-31T14:29:54.890, updatedAt=2025-08-06T12:21:20.150), BomComponent(bomComponentId=2, parentMaterialId=46, componentMaterialId=3, quantity=5.0000, positionNumber=null, notes=, effectiveStartDate=2025-07-31T14:29:54.908139500, effectiveEndDate=null, createdAt=2025-07-31T14:29:54.906666700, updatedAt=2025-07-31T14:29:54.906666700), BomComponent(bomComponentId=4, parentMaterialId=46, componentMaterialId=4, quantity=5.0000, positionNumber=null, notes=, effectiveStartDate=2025-07-31T15:06:44.770099500, effectiveEndDate=null,
createdAt=2025-07-31T15:06:44.780, updatedAt=2025-07-31T15:06:44.780)]
BomComponentServiceImpl: Filtered BOM components: [BomComponent(bomComponentId=1, parentMaterialId=46, componentMaterialId=2, quantity=5.0000, positionNumber=null, notes=, effectiveStartDate=2025-07-31T14:29:54.841595500, effectiveEndDate=null, createdAt=2025-07-31T14:29:54.890, updatedAt=2025-08-06T12:21:20.150), BomComponent(bomComponentId=2, parentMaterialId=46, componentMaterialId=3, quantity=5.0000, positionNumber=null, notes=, effectiveStartDate=2025-07-31T14:29:54.908139500, effectiveEndDate=null, createdAt=2025-07-31T14:29:54.906666700, updatedAt=2025-07-31T14:29:54.906666700), BomComponent(bomComponentId=4, parentMaterialId=46, componentMaterialId=4, quantity=5.0000, positionNumber=null, notes=, effectiveStartDate=2025-07-31T15:06:44.770099500, effectiveEndDate=null, createdAt=2025-07-31T15:06:44.780, updatedAt=2025-07-31T15:06:44.780)]
2025-08-06T12:37:01.479+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-06T12:37:01.479+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [[BomComponent(bomComponentId=1, parentMaterialId=46, componentMaterialId=2, quantity=5.0000, positio (truncated)...]
2025-08-06T12:37:01.480+08:00 DEBUG 11072 --- [demo] [io-8082-exec-10] o.s.web.servlet.DispatcherServlet : Completed 200 OK
